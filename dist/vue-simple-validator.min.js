var VueSimpleValidator=function(e){"use strict";function t(e){"@babel/helpers - typeof";return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function c(e){var t=l();return function(){var r,n=a(e);if(t){var i=a(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}function h(e,t){return v(e)||y(e,t)||d(e,t)||m()}function v(e){if(Array.isArray(e))return e}function y(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,u=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,u=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw u}}return r}}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){o=!0,u=e},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw u}}}}var b=function(){function e(t){r(this,e),this.errors=t||{}}return i(e,[{key:"add",value:function(e,t){return this.errors[e]=t,this}},{key:"all",value:function(){return this.errors||{}}},{key:"any",value:function(){return this.count()>0}},{key:"count",value:function(){return Object.keys(this.all()).length||0}},{key:"get",value:function(e){return this.errors[e]||null}},{key:"has",value:function(e){return-1!==this.all().indexOf(e)}}]),e}(),w={getFieldValueFromContext:function(e,t){var r,n=e,i=g(t.split("."));try{for(i.s();!(r=i.n()).done;){var u=r.value;if(!n.hasOwnProperty(u))return null;n=n[u]}}catch(e){i.e(e)}finally{i.f()}return n}},k=function(){function e(){if(r(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("Cannot construct Rule instances directly.")}return i(e,[{key:"validate",value:function(e,t,r){throw new Error("Method 'validate(value, ruleParams, context)' must be implemented.")}},{key:"failureMessage",value:function(e,t,r){return e.replace("{field}",t)}}]),e}(),_=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return e.match(/^[a-zA-Z]+$/)}}]),t}(k),j=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return e.match(/^[0-9a-zA-Z]+$/)}}]),t}(k),x=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){var n=t[0],i=t[1];return e>=n&&e<=i}},{key:"failureMessage",value:function(e,t,r){var n=r[0],i=r[1];return e.replace("{field}",t).replace("{minimum}",n).replace("{maximum}",i)}}]),t}(k),M=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return!!new RegExp('^(([^<>()[]\\.,;:s@"]+(.[^<>()[]\\.,;:s@"]+)*)|(".+"))@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}])|(([a-zA-Z-0-9]+.)+[a-zA-Z]{2,}))$').test(e)}}]),t}(k),O=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return function(e){return parseFloat(e)===e}}}]),t}(k),S=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return function(e){return parseInt(e)===e}}}]),t}(k),z=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return e.length==length}},{key:"failureMessage",value:function(e,t,r){var n=r[0];return e.replace("{field}",t).replace("{length}",n)}}]),t}(k),A=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return!!e}},{key:"failureMessage",value:function(e,t,r){var n=r[0];return e.replace("{field}",t).replace("{maximum}",n)}}]),t}(k),R=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return!!e}},{key:"failureMessage",value:function(e,t,r){var n=r[0];return e.replace("{field}",t).replace("{minimum}",n)}}]),t}(k),E=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return function(e){return"number"==typeof e&&e===e&&e!==1/0&&e!==-1/0}}}]),t}(k),F=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return!!e}}]),t}(k),q=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){var n=t[0];return!!w.getFieldValueFromContext(r,n)}},{key:"failureMessage",value:function(e,t,r){var n=r[0];return e.replace("{field}",t).replace("{other_field}",n)}}]),t}(k),I=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){var n=t[0];return!!w.getFieldValueFromContext(r,n)}},{key:"failureMessage",value:function(e,t,r){var n=r[0];return e.replace("{field}",t).replace("{other_field}",n)}}]),t}(k),C=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return!!new RegExp("^[a-z](-?[a-z])*$").test(e)}}]),t}(k),P=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return"string"==typeof e}}]),t}(k),T=function(e){function t(){return r(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return i(t,[{key:"validate",value:function(e,t,r){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}}]),t}(k),V=function(){function e(){r(this,e),this.errorBag=new b({}),this.ruleInstances={alpha:new _,alpha_numeric:new j,between:new x,decimal:new O,email:new M,float:new O,int:new S,integer:new S,len:new z,length:new z,max:new A,min:new R,numeric:new E,required:new F,required_if:new q,required_without:new I,slug:new C,string:new P,url:new T},this.errorMessages={alpha:"{field} must only contain alphabetical (A-z) characters.",alpha_numeric:"{field} must only contain alphanumeric (A-z, 0-9) characters.",between:"{field} must be between {minimum} and {maximum}.",decimal:"{field} must be decimal.",email:"{field} must be a valid email addresss.",float:"{field} must be decimal.",int:"{field} must be integer.",integer:"{field} must be integer.",len:"{field} must have a length of {length}.",length:"{field} must have a length of {length}.",max:"{field} must be {maximum} or lower.",min:"{field} must be {minimum} or higher.",numeric:"{field} must be numeric value.",required:"{field} is required",required_if:"{field} is required when {other_field} is given.",required_without:"{field} is required when {other_field} is not given.",slug:"{field} must be a valid slug (a-z, 0-9, -).",string:"{field} must be a valid string",url:"{field} must be a valid url"}}return i(e,[{key:"errors",value:function(){return this.errorBag}},{key:"failed",value:function(){return this.errors().any()}},{key:"getRule",value:function(e){var t=this.ruleInstances[e]||null;if(!t)throw"The rule '".concat(e,"' is not supported.");return t}},{key:"registerRule",value:function(e,r,n){if("string"!=typeof e)throw"The rule name should be a string";if("object"!==t(r))throw"The rule object must be an object.";return n=n||"{field} is invalid.",this.ruleInstances[e]=r,this.errorMessages[e]=n,!0}},{key:"reportFailure",value:function(e,t){var r=t.split(":"),n=r[0]||"",i=(r[1]||"null").split(","),u=this.getRule(n),a=this.errorMessages[n]||"{field} is invalid.",o=u?u.failureMessage(a,e,i):"Could not retrieve error message";this.errorBag.add(e,o)}},{key:"setErrorMessages",value:function(e){Object.assign(this.errorMessages,e)}},{key:"validate",value:function(e,t){var r=this;return this.errorBag=new b({}),Object.entries(t).forEach(function(t){var n,i=h(t,2),u=i[0],a=i[1],o=w.getFieldValueFromContext(e,u),l=g(a="string"==typeof a?a.split("|"):a);try{for(l.s();!(n=l.n()).done;){var f=n.value;if(!r.validateValueAgainstRule(o,f,e)){r.reportFailure(u,f);break}}}catch(e){l.e(e)}finally{l.f()}}),this.errorBag.any()}},{key:"validateValueAgainstRule",value:function(e,t,r){var n=t.split(":"),i=n[0]||null,u=(n[1]||"null").split(","),a=this.getRule(i);return!!t&&a.validate(e,u,r)}}]),e}(),$={install:function(e,r){var n=new V;"object"===t(r.errorMessages)&&n.setErrorMessages(r.errorMessages),e.prototype.$validator=n}};return e.default=$,e}({});
